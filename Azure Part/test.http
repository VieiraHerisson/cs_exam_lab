### Test 1: Submit feedback with high rating (Basic company - no follow-up)
### Expected: Saved to Cosmos DB only, no queue message
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "John Doe",
    "comments": "Great service, very satisfied!",
    "rating": 5,
    "companyId": 1
}

### Test 2: Submit feedback with low rating - Basic subscription
### Expected: Saved to Cosmos DB only (Basic doesn't trigger follow-up)
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Jane Smith",
    "comments": "Service was slow",
    "rating": 2,
    "companyId": 1
}

### Test 3: Submit feedback with low rating - Premium subscription
### Expected: Saved to Cosmos DB AND queued for follow-up (creates CSV)
### Note: You need to find a Premium company ID from the API first
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Bob Wilson",
    "comments": "Very disappointed with the response time",
    "rating": 1,
    "companyId": 2
}

### Test 4: Submit feedback with low rating - Enterprise subscription
### Expected: Saved to Cosmos DB AND queued for follow-up (creates CSV)
### Note: You need to find an Enterprise company ID from the API first
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Alice Johnson",
    "comments": "Terrible experience, needs improvement",
    "rating": 2,
    "companyId": 3
}

### Test 5: Submit feedback with rating exactly 3
### Expected: Saved to Cosmos DB only (rating must be BELOW 3 for follow-up)
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Charlie Brown",
    "comments": "Average service, nothing special",
    "rating": 3,
    "companyId": 2
}

### Test 6: Invalid request - missing userName
### Expected: 400 Bad Request with error message
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "comments": "Test comment",
    "rating": 4,
    "companyId": 1
}

### Test 7: Invalid request - rating out of range
### Expected: 400 Bad Request with error message
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Test User",
    "comments": "Test comment",
    "rating": 10,
    "companyId": 1
}

### Test 8: Invalid request - company not found
### Expected: 400 Bad Request with "Company not found" message
POST http://localhost:7071/api/SubmitFeedback
Content-Type: application/json

{
    "userName": "Test User",
    "comments": "Test comment",
    "rating": 4,
    "companyId": 99999
}


### ============================================
### GET PRICE OVERVIEW TESTS
### ============================================

### Test 9: Get price overview for company 1
### Expected: Returns companyName, totalPrice, averageRating
GET http://localhost:7071/api/GetPriceOverview/1

### Test 10: Get price overview for company 2
GET http://localhost:7071/api/GetPriceOverview/2

### Test 11: Get price overview for company 3
GET http://localhost:7071/api/GetPriceOverview/3

### Test 12: Get price overview for non-existent company
### Expected: 404 Not Found
GET http://localhost:7071/api/GetPriceOverview/99999

### Test 13: Invalid company ID (negative)
### Expected: 400 Bad Request
GET http://localhost:7071/api/GetPriceOverview/-1


### ============================================
### EXTERNAL API TESTS (for reference)
### ============================================

### Get all companies from external API
### Use this to find valid company IDs and their subscriptions
GET https://feedback-api-hzc2egemf6e9ezcj.canadacentral-01.azurewebsites.net/companies

### Get specific company details
GET https://feedback-api-hzc2egemf6e9ezcj.canadacentral-01.azurewebsites.net/companies/1

### Get company 2 (check subscription type)
GET https://feedback-api-hzc2egemf6e9ezcj.canadacentral-01.azurewebsites.net/companies/2

### Get company 3 (check subscription type)
GET https://feedback-api-hzc2egemf6e9ezcj.canadacentral-01.azurewebsites.net/companies/3